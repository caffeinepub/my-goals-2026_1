{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Stop MonthlyCompletionCelebrationModal from reopening when revisiting Yearly Summary",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Prevent the congrats modal from auto-opening on Yearly Summary re-entry by fixing completion-transition detection to ignore pre-existing 100% months and only trigger on in-session transitions.",
      "acceptanceCriteria": [
        "Given at least one month is already 100% complete in the saved Yearly Summary checkbox state, when the user opens Yearly Summary, clicks \"Back to dashboard\", and then clicks \"View yearly summary\" again, the MonthlyCompletionCelebrationModal must not automatically open.",
        "The MonthlyCompletionCelebrationModal must still open when (and only when) a month transitions from not-complete to 100% complete due to the user checking the final remaining checkbox for that month during the current session.",
        "The fix must be implemented in or via the current completion-transition detection in frontend/src/components/YearlySummaryTable.tsx without breaking existing monthly memory thumbnail/placeholder behavior."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/YearlySummaryTable.tsx",
          "operation": "modify",
          "description": "Adjust the month 100%-completion transition effect to initialize previousCompletionRef from the currently-loaded checkbox state on first render (and/or gate the transition check behind an initialization ref) so pre-completed months do not trigger the celebration modal when the Yearly Summary view mounts/remounts; ensure the modal only opens on falseâ†’true transitions caused by checkbox toggles during the active session, and keep existing monthly memory thumbnail/placeholder behavior unchanged."
        }
      ]
    }
  ]
}